<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Fichas de Cliente</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { 
            getAuth, 
            onAuthStateChanged, 
            GoogleAuthProvider, 
            signInWithPopup, 
            signOut, 
            setPersistence, 
            browserLocalPersistence 
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { 
            getFirestore, 
            doc, 
            setDoc, 
            deleteDoc, 
            collection, 
            getDocs, 
            addDoc 
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        window.appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        window.firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
            apiKey: "AIzaSyD7FwQZspQNYZmNlQv8oNglccBXHmduW5w", 
            authDomain: "sistema-do-salao.firebaseapp.com", 
            projectId: "sistema-do-salao",   
            storageBucket: "sistema-do-salao.firebasestorage.app", 
            messagingSenderId: "395887083088", 
            appId: "1:395887083088:web:3a41fd836cc59a976ddb55"
        };
        window.initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        window.app = null;
        window.db = null;
        window.auth = null;
        window.userId = 'Carregando...'; 
        window.fichasCollectionRef = null; 

        async function initializeFirebase() {
            try {
                window.app = initializeApp(window.firebaseConfig);
                window.db = getFirestore(window.app);
                window.auth = getAuth(window.app);
                
                await setPersistence(window.auth, browserLocalPersistence);
                console.log("Firebase inicializado com sucesso");

                onAuthStateChanged(window.auth, async (user) => {
                    if (user) {
                        const allowedEmails = [
                            'djmkbrasil@gmail.com',
                            'frankokott@gmail.com',
                            'djmkapple@gmail.com',
                            'gabrielastephane11@gmail.com',
                            'cibemarchi@gmail.com'
                        ];

                        if (allowedEmails.includes(user.email)) {
                            document.getElementById('main-content').style.display = 'block';
                            window.userId = user.uid;
                            const displayInfo = user.displayName || user.email;
                            
                            document.getElementById('user-id-display').textContent = `Usuário: ${displayInfo}`;
                            document.getElementById('auth-buttons').innerHTML = `
                                <button onclick="window.fichasApp.signOutUser()" class="btn btn-danger">Sair</button>
                            `;
                            
                            console.log("Usuário autorizado autenticado:", user.email);
                            window.fichasCollectionRef = collection(window.db, `artifacts/${window.appId}/public/data/fichas`);
                            
                            if (window.db) {
                                window.fichasApp.init();
                            } else {
                                window.fichasApp.showMessage('Erro: Banco de dados não disponível.', 'error');
                            }
                        } else {
                            document.getElementById('main-content').style.display = 'none';
                            window.fichasApp.showMessage('Acesso negado. Você não tem permissão.', 'error');
                            setTimeout(() => window.fichasApp.signOutUser(), 3000);
                        }
                    } else {
                        window.userId = 'Não autenticado';
                        document.getElementById('user-id-display').textContent = `Usuário: ${window.userId}`;
                        document.getElementById('auth-buttons').innerHTML = `
                            <button onclick="window.fichasApp.signInWithGoogle()" class="btn btn-primary">Entrar com Google</button>
                        `;
                        document.getElementById('main-content').style.display = 'none';
                        window.fichasApp.disableAuthRequiredButtons();
                    }
                });

            } catch (error) {
                console.error("Erro ao inicializar Firebase:", error);
                window.fichasApp.showMessage('Erro ao inicializar o Firebase.', 'error');
            }
        }

        document.addEventListener('DOMContentLoaded', initializeFirebase);
        
        window.doc = doc;
        window.setDoc = setDoc;
        window.deleteDoc = deleteDoc;
        window.collection = collection;
        window.getDocs = getDocs;
        window.addDoc = addDoc; 
    </script>

    <style>
        :root {
            --primary-color: #6366f1; --primary-hover: #4f46e5; --secondary-color: #8b5cf6;
            --success-color: #10b981; --warning-color: #f59e0b; --danger-color: #ef4444;
            --info-color: #3b82f6; --gray-50: #f9fafb; --gray-100: #f3f4f6; --gray-200: #e5e7eb;
            --gray-300: #d1d5db; --gray-400: #9ca3af; --gray-500: #6b7280; --gray-600: #4b5563;
            --gray-700: #374151; --gray-800: #1f2937; --gray-900: #111827;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --border-radius: 0.75rem; --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; margin: 0; padding: 1rem; }
        .main-container { max-width: 1200px; margin: 0 auto; background: white; border-radius: var(--border-radius); overflow: hidden; }
        .header { background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white; padding: 2rem; text-align: center; }
        .header h1 { margin: 0; font-size: 2.5rem; font-weight: 700; }
        .content { padding: 2rem; }
        .section { background: var(--gray-50); border-radius: var(--border-radius); padding: 1.5rem; margin-bottom: 2rem; border: 1px solid var(--gray-200); }
        .section-title { font-size: 1.5rem; font-weight: 600; color: var(--gray-800); margin-bottom: 1.5rem; }
        .btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 500; border: none; cursor: pointer; transition: var(--transition); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-primary { background-color: var(--primary-color); color: white; }
        .btn-danger { background-color: var(--danger-color); color: white; }
        .btn-success { background-color: var(--success-color); color: white; }
        .btn-secondary { background-color: var(--secondary-color); color: white; }
        .btn-info { background-color: var(--info-color); color: white; }
        .form-input { width: 100%; padding: 0.75rem; border: 1px solid var(--gray-300); border-radius: 0.5rem; }
        .message { padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; font-weight: 500; }
        .message-success { background-color: #d1fae5; color: #065f46; }
        .message-error { background-color: #fee2e2; color: #991b1b; }
        .message-info { background-color: #dbeafe; color: #1e40af; }
        .loading-spinner { display: inline-block; width: 20px; height: 20px; border: 3px solid rgba(255, 255, 255, 0.3); border-radius: 50%; border-top-color: white; animation: spin 1s ease-in-out infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="main-container">
        <header class="header">
            <h1>Registro de Fichas de Cliente</h1>
        </header>

        <main class="content">
            <div class="section">
                <div class="flex items-center justify-between mb-4">
                    <p id="user-id-display" class="text-sm text-gray-500">Usuário: Carregando...</p>
                    <div id="auth-buttons" class="flex gap-2"></div>
                </div>
            </div>

            <div id="app-message" class="message hidden"></div>

            <div id="main-content" style="display: none;">
                <section class="section">
                    <h2 class="section-title">Nova Ficha de Atendimento</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <input type="text" id="clientName" placeholder="Nome da Cliente" class="form-input">
                        <input type="text" id="professionalName" placeholder="Nome da Profissional" class="form-input">
                    </div>
                    <div id="services-container" class="space-y-2"></div>
                    <button onclick="window.fichasApp.addServiceRow()" class="btn btn-primary w-full mt-2">Adicionar Serviço</button>
                    <div id="products-sold-container" class="space-y-2 mt-4"></div>
                    <button onclick="window.fichasApp.addProductSoldRow()" class="btn btn-success w-full mt-2">Adicionar Produto</button>
                    <div class="mt-6 flex justify-end">
                        <button id="addFichaBtn" onclick="window.fichasApp.addFicha()" class="btn btn-primary text-lg" disabled>
                            <span id="add-ficha-spinner" class="loading-spinner mr-2 hidden"></span>
                            <span id="add-ficha-icon">Registrar Ficha</span>
                        </button>
                    </div>
                </section>

                <section class="section">
                    <h2 class="section-title">Fichas Registradas</h2>
                    <div id="fichas-list" class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead class="bg-gray-200 text-gray-600 uppercase text-sm">
                                <tr>
                                    <th class="py-3 px-6 text-left">Cliente</th>
                                    <th class="py-3 px-6 text-left">Profissional</th>
                                    <th class="py-3 px-6 text-left">Serviços</th>
                                    <th class="py-3 px-6 text-left">Produtos</th>
                                    <th class="py-3 px-6 text-center">Total</th>
                                    <th class="py-3 px-6 text-center">Ações</th>
                                </tr>
                            </thead>
                            <tbody id="fichas-table-body" class="text-gray-600 text-sm"></tbody>
                        </table>
                    </div>
                    <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-3">
                        <button id="loadFichasBtn" onclick="window.fichasApp.loadFichasFromFirestore()" class="btn btn-info w-full" disabled>
                            <span id="load-fichas-spinner" class="loading-spinner mr-2 hidden"></span>
                            <span id="load-fichas-icon">Recarregar Fichas (Nuvem)</span>
                        </button>
                        <button id="clearAllFichasBtn" onclick="window.fichasApp.showClearAllFichasConfirm()" class="btn btn-danger w-full" disabled>
                             <span id="clear-fichas-spinner" class="loading-spinner mr-2 hidden"></span>
                            <span id="clear-fichas-icon">Limpar Todas as Fichas</span>
                        </button>
                        <button id="exportWeeklyDataBtn" onclick="window.fichasApp.generateAndExportWeeklyData()" class="btn btn-secondary w-full" disabled>
                            <span id="export-weekly-spinner" class="loading-spinner mr-2 hidden"></span>
                            <span id="export-weekly-icon">Exportar para Fechamento</span>
                        </button>
                    </div>
                </section>
            </div>
        </main>
    </div>
    
    <div id="custom-confirm-modal" class="modal hidden">
        <div class="modal-content">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Confirmar Ação</h3>
            <p class="text-gray-600 mb-4" id="confirm-message">Tem certeza?</p>
            <div class="flex justify-end gap-4 mt-6">
                <button class="btn btn-gray" onclick="window.fichasApp.handleConfirm(false)">Cancelar</button>
                <button class="btn btn-danger" onclick="window.fichasApp.handleConfirm(true)">Confirmar</button>
            </div>
        </div>
    </div>

    <script>
        window.fichasApp = {
            fichas: [],
            
            async signInWithGoogle() {
                const provider = new GoogleAuthProvider();
                try {
                    await signInWithPopup(window.auth, provider);
                } catch (error) {
                    this.showMessage('Erro ao autenticar: ' + error.message, 'error');
                }
            },

            async signOutUser() {
                try {
                    await signOut(window.auth);
                    this.showMessage('Sessão encerrada.', 'info');
                    window.location.reload();
                } catch (error) {
                    this.showMessage('Erro ao sair: ' + error.message, 'error');
                }
            },

            async saveFichaToFirestore(fichaData) {
                this.toggleLoadingSpinner('add-ficha', true);
                try {
                    const docRef = await window.addDoc(window.fichasCollectionRef, fichaData);
                    this.showMessage('Ficha registrada e salva na nuvem!', 'success');
                    return docRef.id;
                } catch (e) {
                    this.showMessage('Erro ao salvar ficha: ' + e.message, 'error');
                    return null;
                } finally {
                    this.toggleLoadingSpinner('add-ficha', false);
                }
            },
            
            async removeFichaFromFirestore(fichaId) {
                try {
                    await window.deleteDoc(window.doc(window.db, `artifacts/${window.appId}/public/data/fichas`, fichaId));
                    this.showMessage('Ficha removida da nuvem.', 'info');
                    return true;
                } catch (e) {
                    this.showMessage('Erro ao remover ficha: ' + e.message, 'error');
                    return false;
                }
            },

            async saveWeeklyReportDataToFirestore(data) {
                this.toggleLoadingSpinner('export-weekly', true);
                try {
                    const docRef = window.doc(window.db, `artifacts/${window.appId}/public/data/weeklyReportsAggregated/currentWeek`);
                    await window.setDoc(docRef, data);
                    this.showMessage('Dados exportados para o fechamento!', 'success');
                } catch (e) {
                    this.showMessage('Erro ao exportar dados: ' + e.message, 'error');
                } finally {
                    this.toggleLoadingSpinner('export-weekly', false);
                }
            },
            
            init() { 
                this.enableButtons(); 
                this.loadFichasFromFirestore(); 
                this.addServiceRow();
            },

            enableButtons() {
                ['addFichaBtn', 'clearAllFichasBtn', 'exportWeeklyDataBtn', 'loadFichasBtn'].forEach(id => {
                    if(document.getElementById(id)) document.getElementById(id).disabled = false;
                });
            },
            disableAuthRequiredButtons() {
                 ['addFichaBtn', 'clearAllFichasBtn', 'exportWeeklyDataBtn', 'loadFichasBtn'].forEach(id => {
                    if(document.getElementById(id)) document.getElementById(id).disabled = true;
                });
            },
            showMessage(message, type = 'success') {
                const msgDiv = document.getElementById('app-message');
                msgDiv.textContent = message;
                msgDiv.className = `message message-${type}`;
                setTimeout(() => { msgDiv.className = 'message hidden'; }, 5000);
            },
            toggleLoadingSpinner(type, show) {
                 const spinner = document.getElementById(`${type}-spinner`);
                 const icon = document.getElementById(`${type}-icon`);
                 if(spinner && icon){
                     spinner.classList.toggle('hidden', !show);
                     icon.classList.toggle('hidden', show);
                 }
            },
            async loadFichasFromFirestore() {
                if (!window.fichasCollectionRef) {
                    this.showMessage('Aguardando autenticação para carregar...', 'info');
                    return;
                };
                this.showMessage('Carregando fichas da nuvem...', 'info');
                this.toggleLoadingSpinner('load-fichas', true);
                try {
                    this.fichas = []; 
                    const querySnapshot = await window.getDocs(window.fichasCollectionRef);
                    querySnapshot.forEach((doc) => {
                        this.fichas.push({ id: doc.id, ...doc.data() });
                    });
                    this.renderFichasTable();
                     if(querySnapshot.empty) {
                        this.showMessage('Nenhuma ficha encontrada na nuvem.', 'info');
                    } else {
                        this.showMessage('Fichas carregadas com sucesso!', 'success');
                    }
                } catch (e) {
                    this.showMessage('Erro ao carregar fichas: ' + e.message, 'error');
                } finally {
                    this.toggleLoadingSpinner('load-fichas', false);
                }
            },
            addServiceRow(serviceName = '', serviceValue = '', paymentMethod = 'pix') {
                const container = document.getElementById('services-container');
                const newServiceDiv = document.createElement('div');
                newServiceDiv.className = 'flex items-center gap-2 service-row';
                newServiceDiv.innerHTML = `
                    <input type="text" placeholder="Nome do Serviço" value="${serviceName}" class="service-name form-input flex-grow">
                    <input type="number" step="0.01" min="0" placeholder="Valor" value="${serviceValue}" class="service-value form-input w-28 text-right">
                    <select class="payment-method form-input w-32">
                        <option value="pix" ${paymentMethod === 'pix' ? 'selected' : ''}>Pix</option>
                        <option value="debito" ${paymentMethod === 'debito' ? 'selected' : ''}>Débito</option>
                        <option value="credito_1x" ${paymentMethod === 'credito_1x' ? 'selected' : ''}>Crédito 1x</option>
                        <option value="credito_2x" ${paymentMethod === 'credito_2x' ? 'selected' : ''}>Crédito 2x</option>
                        <option value="credito_3x" ${paymentMethod === 'credito_3x' ? 'selected' : ''}>Crédito 3x</option>
                        <option value="dinheiro" ${paymentMethod === 'dinheiro' ? 'selected' : ''}>Dinheiro</option>
                    </select>
                    <button onclick="this.closest('.service-row').remove()" class="btn btn-danger p-2">X</button>
                `;
                container.appendChild(newServiceDiv);
            },
            addProductSoldRow(productName = '', productValue = '', paymentMethod = 'pix') {
                const container = document.getElementById('products-sold-container');
                const newProductDiv = document.createElement('div');
                newProductDiv.className = 'flex items-center gap-2 product-sold-row';
                newProductDiv.innerHTML = `
                    <input type="text" placeholder="Nome do Produto" value="${productName}" class="product-sold-name form-input flex-grow">
                    <input type="number" step="0.01" min="0" placeholder="Valor" value="${productValue}" class="product-sold-value form-input w-28 text-right">
                    <select class="payment-method form-input w-32">
                        <option value="pix" ${paymentMethod === 'pix' ? 'selected' : ''}>Pix</option>
                        <option value="debito" ${paymentMethod === 'debito' ? 'selected' : ''}>Débito</option>
                        <option value="credito_1x" ${paymentMethod === 'credito_1x' ? 'selected' : ''}>Crédito 1x</option>
                        <option value="credito_2x" ${paymentMethod === 'credito_2x' ? 'selected' : ''}>Crédito 2x</option>
                        <option value="credito_3x" ${paymentMethod === 'credito_3x' ? 'selected' : ''}>Crédito 3x</option>
                        <option value="dinheiro" ${paymentMethod === 'dinheiro' ? 'selected' : ''}>Dinheiro</option>
                    </select>
                    <button onclick="this.closest('.product-sold-row').remove()" class="btn btn-danger p-2">X</button>
                `;
                container.appendChild(newProductDiv);
            },
            clearInputFields() {
                document.getElementById('clientName').value = '';
                document.getElementById('professionalName').value = '';
                document.getElementById('services-container').innerHTML = ''; 
                document.getElementById('products-sold-container').innerHTML = ''; 
                this.addServiceRow();
            },
            async addFicha() {
                const clientName = document.getElementById('clientName').value.trim();
                const professionalName = document.getElementById('professionalName').value.trim();

                if (!clientName || !professionalName) {
                    this.showMessage('Preencha o nome da Cliente e da Profissional.', 'error');
                    return;
                }

                const services = Array.from(document.querySelectorAll('.service-row')).map(row => ({
                    name: row.querySelector('.service-name').value.trim(),
                    value: parseFloat(row.querySelector('.service-value').value) || 0,
                    paymentMethod: row.querySelector('.payment-method').value
                })).filter(s => s.name && s.value > 0);

                const productsSold = Array.from(document.querySelectorAll('.product-sold-row')).map(row => ({
                    name: row.querySelector('.product-sold-name').value.trim(),
                    value: parseFloat(row.querySelector('.product-sold-value').value) || 0,
                    paymentMethod: row.querySelector('.payment-method').value
                })).filter(p => p.name && p.value > 0);

                if (services.length === 0 && productsSold.length === 0) {
                    this.showMessage('Adicione pelo menos um serviço ou produto.', 'error');
                    return;
                }

                const totalFicha = services.reduce((sum, s) => sum + s.value, 0) + productsSold.reduce((sum, p) => sum + p.value, 0);

                const newFicha = { clientName, professionalName, services, productsSold, totalFicha, timestamp: new Date().toISOString() };

                const fichaId = await this.saveFichaToFirestore(newFicha);
                if (fichaId) {
                    this.fichas.push({ id: fichaId, ...newFicha }); 
                    this.renderFichasTable();
                    this.clearInputFields();
                }
            },
            async removeFicha(index) {
                const fichaToRemove = this.fichas[index];
                if (!fichaToRemove || !fichaToRemove.id) return;
                const removed = await this.removeFichaFromFirestore(fichaToRemove.id);
                if (removed) {
                    this.fichas.splice(index, 1); 
                    this.renderFichasTable();
                }
            },
            async clearAllFichas() {
                 this.toggleLoadingSpinner('clear-fichas', true);
                try {
                    const deletePromises = this.fichas.map(ficha => this.removeFichaFromFirestore(ficha.id));
                    await Promise.all(deletePromises);
                    this.fichas = []; 
                    this.renderFichasTable();
                    this.showMessage('Todas as fichas foram limpas.', 'success');
                } catch(e) {
                    this.showMessage('Erro ao limpar as fichas.', 'error');
                } finally {
                    this.toggleLoadingSpinner('clear-fichas', false);
                }
            },
             renderFichasTable() {
                const tableBody = document.getElementById('fichas-table-body');
                tableBody.innerHTML = ''; 
                if (this.fichas.length === 0) {
                    tableBody.innerHTML = `<tr><td colspan="6" class="py-3 px-6 text-center text-gray-500">Nenhuma ficha registrada.</td></tr>`;
                    return;
                }
                this.fichas.forEach((ficha, index) => {
                    const row = tableBody.insertRow();
                    row.className = 'border-b border-gray-200 hover:bg-gray-100';
                    const formatServices = (items) => items.map(s => `<p>${s.name} (R$ ${s.value.toFixed(2).replace('.', ',')}) - ${this.formatPaymentMethodForDisplay(s.paymentMethod)}</p>`).join('') || 'Nenhum';
                    row.innerHTML = `
                        <td class="py-3 px-6 text-left">${ficha.clientName}</td>
                        <td class="py-3 px-6 text-left">${ficha.professionalName}</td>
                        <td class="py-3 px-6 text-left">${formatServices(ficha.services)}</td>
                        <td class="py-3 px-6 text-left">${formatServices(ficha.productsSold)}</td>
                        <td class="py-3 px-6 text-center font-bold">R$ ${ficha.totalFicha.toFixed(2).replace('.', ',')}</td>
                        <td class="py-3 px-6 text-center"><button onclick="window.fichasApp.removeFicha(${index})" class="text-red-600 hover:text-red-800">Remover</button></td>
                    `;
                });
            },
            showClearAllFichasConfirm() {
                document.getElementById('confirm-message').textContent = 'Tem certeza que deseja limpar TODAS as fichas da nuvem? Esta ação não pode ser desfeita.';
                document.getElementById('custom-confirm-modal').style.display = 'flex';
                this.confirmAction = 'clearAllFichas';
            },
            handleConfirm(confirmed) {
                document.getElementById('custom-confirm-modal').style.display = 'none';
                if (confirmed && this.confirmAction === 'clearAllFichas') {
                    this.clearAllFichas();
                }
            },
            async generateAndExportWeeklyData() {
                const aggregatedData = { collaborators: {}, products: [] };
                this.fichas.forEach(ficha => {
                    const { professionalName, clientName, services, productsSold } = ficha;
                    if (!aggregatedData.collaborators[professionalName]) {
                        aggregatedData.collaborators[professionalName] = { name: professionalName, clients: [], discountPercentage: 0.30, observations: '' };
                    }
                    services.forEach(service => aggregatedData.collaborators[professionalName].clients.push({ name: `${clientName} - ${service.name}`, value: service.value, paymentMethod: service.paymentMethod }));
                    productsSold.forEach(product => aggregatedData.products.push({ clientName: `${clientName} - ${product.name}`, value: product.value, paymentMethod: product.paymentMethod }));
                });
                const dataToExport = { collaborators: Object.values(aggregatedData.collaborators), products: aggregatedData.products, lastUpdated: new Date().toISOString() };
                await this.saveWeeklyReportDataToFirestore(dataToExport);
            },
            formatPaymentMethodForDisplay(paymentMethod) {
                switch (paymentMethod) {
                    case 'pix': return 'Pix';
                    case 'debito': return 'Débito';
                    case 'credito_1x': return 'Crédito 1x';
                    case 'credito_2x': return 'Crédito 2x';
                    case 'credito_3x': return 'Crédito 3x';
                    case 'dinheiro': return 'Dinheiro';
                    default: return paymentMethod;
                }
            }
        };
    </script>
</body>
</html>

